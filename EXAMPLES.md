# ChangeLog - Usage Examples

Quick navigation:
- [Example 1: Basic Changelog Generation](#example-1-basic-changelog-generation)
- [Example 2: Custom Output Filename](#example-2-custom-output-filename)
- [Example 3: JSON Output Format](#example-3-json-output-format)
- [Example 4: Plain Text Format](#example-4-plain-text-format)
- [Example 5: Commit Validation](#example-5-commit-validation)
- [Example 6: Repository Statistics](#example-6-repository-statistics)
- [Example 7: Date Range Filtering](#example-7-date-range-filtering)
- [Example 8: Python API Usage](#example-8-python-api-usage)
- [Example 9: Config File Setup](#example-9-config-file-setup)
- [Example 10: Portfolio-Wide Generation](#example-10-portfolio-wide-generation)
- [Example 11: Including Author Names](#example-11-including-author-names)
- [Example 12: Error Handling](#example-12-error-handling)

---

## Example 1: Basic Changelog Generation

**Scenario:** Generate a changelog for the current repository.

**Steps:**
```bash
# Navigate to your git repository
cd /path/to/your/project

# Generate changelog
python changelog.py generate
```

**Expected Output:**
```
[OK] Changelog generated: CHANGELOG.md (87 lines)
```

**Generated CHANGELOG.md:**
```markdown
# Changelog

All notable changes to this project will be documented in this file.

## [Unreleased]

### Added

- Add dark mode support (`abc1234`)
- Implement search functionality (`def5678`)

### Fixed

- Resolve login timeout issue (`ghi9012`)

---

*Generated by ChangeLog v1.0.0*
```

**What You Learned:**
- Default command generates a professional CHANGELOG.md
- Commits are automatically categorized
- Commit hashes are included by default

---

## Example 2: Custom Output Filename

**Scenario:** Generate changelog with a custom filename.

**Steps:**
```bash
# Custom output filename
python changelog.py generate -o CHANGES.md

# Or use long flag
python changelog.py generate --output RELEASE_NOTES.md
```

**Expected Output:**
```
[OK] Changelog generated: CHANGES.md (87 lines)
```

**What You Learned:**
- Use `-o` or `--output` to specify the output filename
- Any filename works (CHANGES.md, RELEASE_NOTES.md, etc.)

---

## Example 3: JSON Output Format

**Scenario:** Generate changelog in JSON format for programmatic use.

**Steps:**
```bash
python changelog.py generate --format json -o changelog.json
```

**Expected Output:**
```
[OK] Changelog generated: changelog.json (145 lines)
```

**Generated changelog.json (excerpt):**
```json
{
  "generator": "ChangeLog v1.0.0",
  "generated_at": "2026-02-07T10:30:00",
  "repository": "https://github.com/DonkRonk17/MyProject",
  "versions": [
    {
      "label": "Unreleased",
      "date": "2026-02-07",
      "commit_count": 15,
      "categories": {
        "Added": [
          {
            "hash": "abc1234567890...",
            "short_hash": "abc1234",
            "author": "ATLAS",
            "date": "2026-02-07",
            "description": "Add dark mode support",
            "scope": "",
            "is_breaking": false
          }
        ]
      }
    }
  ]
}
```

**What You Learned:**
- JSON format is machine-parseable and great for CI/CD integration
- Includes full commit metadata (hash, author, date, category)

---

## Example 4: Plain Text Format

**Scenario:** Generate a terminal-friendly plain text changelog.

**Steps:**
```bash
python changelog.py generate --format text -o CHANGELOG.txt
```

**Expected Output:**
```
[OK] Changelog generated: CHANGELOG.txt (65 lines)
```

**Generated CHANGELOG.txt:**
```
======================================================================
CHANGELOG
======================================================================

  Unreleased (2026-02-07)
----------------------------------------------------------------------
  [Added]
    * Add dark mode support (abc1234)
    * Implement search functionality (def5678)

  [Fixed]
    * Resolve login timeout issue (ghi9012)

======================================================================
Generated by ChangeLog v1.0.0
======================================================================
```

**What You Learned:**
- Text format is readable in any terminal with `cat` or `less`
- No Markdown formatting, just clean ASCII text

---

## Example 5: Commit Validation

**Scenario:** Check how well your commits follow Conventional Commits.

**Steps:**
```bash
python changelog.py validate
```

**Expected Output:**
```
==============================================================
  COMMIT MESSAGE VALIDATION
==============================================================
  Total Commits:       142
  Conventional:        98
  Non-conventional:    44
  Compliance:          69.0%

  By Type:
    feat              42
    fix               28
    docs              15
    refactor           8
    test               5

  Non-conventional commits (first 10):
    abc1234  Initial commit
    def5678  Update dependencies
    ghi9012  Various improvements

  Grade: C - Fair
==============================================================
```

**What You Learned:**
- Validate grades your commit message compliance (A-F)
- Shows which prefixes are most used
- Lists non-conventional commits for improvement

---

## Example 6: Repository Statistics

**Scenario:** Get a quick overview of your repository's commit patterns.

**Steps:**
```bash
python changelog.py stats
```

**Expected Output:**
```
============================================================
  CHANGELOG STATISTICS: MyProject
============================================================
  Total Commits: 142
  Total Tags:    5
  Date Range:    2026-01-15 to 2026-02-07

  Categories:
    Added              42  ##########################################
    Fixed              28  ############################
    Changed            22  ######################
    Other              18  ##################
    Documentation      15  ###############
    Testing            12  ############
    Build               5  #####

  Top Authors:
    Logan Smith                        87 commits
    ATLAS                              32 commits

  Recent Tags:
    v1.2.0
    v1.1.0
    v1.0.0

============================================================
```

**JSON output:**
```bash
python changelog.py stats --json
```

**What You Learned:**
- Stats gives a quick health overview of your repository
- Category bars show the balance of change types
- JSON output enables programmatic analysis

---

## Example 7: Date Range Filtering

**Scenario:** Generate changelog for a specific time period.

**Steps:**
```bash
# Since a specific date
python changelog.py generate --since 2026-01-01

# Between two dates
python changelog.py generate --since 2026-01-01 --until 2026-02-01

# Relative dates work too
python changelog.py generate --since "2 weeks ago"
```

**Expected Output:**
```
[OK] Changelog generated: CHANGELOG.md (45 lines)
```

**What You Learned:**
- Use `--since` and `--until` for date filtering
- Supports ISO dates and relative date expressions
- Great for sprint/release-specific changelogs

---

## Example 8: Python API Usage

**Scenario:** Use ChangeLog programmatically in a Python script.

**Steps:**
```python
from changelog import ChangeLog

# Basic generation
cl = ChangeLog(repo_path=".")
output = cl.generate()
print(output)

# Write to file
cl.generate(output_file="CHANGELOG.md")

# With custom config
cl = ChangeLog(
    repo_path="/path/to/repo",
    config={
        "output_format": "json",
        "include_author": True,
        "include_hash": True,
        "limit": 50,
        "since": "2026-01-01",
    }
)
json_output = cl.generate()

# Validation
results = cl.validate_commits()
print(f"Compliance: {results['compliance_pct']}%")
print(f"Grade: {'A' if results['compliance_pct'] >= 90 else 'B+'}")

# Statistics
stats = cl.get_stats()
for cat, count in stats['categories'].items():
    print(f"  {cat}: {count}")
```

**Expected Output:**
```
Compliance: 69.0%
Grade: B+
  Added: 42
  Fixed: 28
  Changed: 22
```

**What You Learned:**
- The Python API mirrors CLI functionality
- Configuration is passed as a dictionary
- Results are returned as dictionaries for easy processing

---

## Example 9: Config File Setup

**Scenario:** Set up project-specific changelog configuration.

**Steps:**

1. Create `.changelogrc` in your project root:
```json
{
  "output_file": "CHANGELOG.md",
  "output_format": "markdown",
  "header": "# MyProject Changelog",
  "description": "Release history for MyProject.",
  "include_hash": true,
  "include_author": true,
  "exclude_patterns": [
    "^Merge",
    "^WIP",
    "^Revert"
  ]
}
```

2. Generate using config:
```bash
python changelog.py generate --config .changelogrc
```

**Expected Output:**
```
[OK] Changelog generated: CHANGELOG.md (92 lines)
```

**What You Learned:**
- Config files persist project-specific settings
- Exclude patterns filter out noise
- Config overrides defaults without CLI flags

---

## Example 10: Portfolio-Wide Generation

**Scenario:** Generate changelogs for all git repositories in a directory.

**Steps (Bash):**
```bash
#!/bin/bash
TOOLS_DIR="/path/to/AutoProjects"
CHANGELOG="/path/to/changelog.py"

for dir in "$TOOLS_DIR"/*/; do
  if [ -d "$dir/.git" ]; then
    echo "Generating: $(basename $dir)"
    python "$CHANGELOG" generate "$dir" -o "$dir/CHANGELOG.md"
  fi
done
```

**Steps (PowerShell):**
```powershell
$toolsDir = "C:\Users\logan\OneDrive\Documents\AutoProjects"
$changelog = "$toolsDir\ChangeLog\changelog.py"

Get-ChildItem -Path $toolsDir -Directory | ForEach-Object {
    if (Test-Path "$($_.FullName)\.git") {
        Write-Host "Generating: $($_.Name)"
        python $changelog generate $_.FullName -o "$($_.FullName)\CHANGELOG.md"
    }
}
```

**Expected Output:**
```
Generating: AgentHealth
[OK] Changelog generated: CHANGELOG.md (45 lines)
Generating: SynapseLink
[OK] Changelog generated: CHANGELOG.md (67 lines)
...
```

**What You Learned:**
- ChangeLog can process any git repo by passing the path
- Batch scripts can generate changelogs across entire portfolios
- Great for maintaining consistency across many projects

---

## Example 11: Including Author Names

**Scenario:** Generate changelog with contributor attribution.

**Steps:**
```bash
python changelog.py generate --with-author
```

**Expected Output (in CHANGELOG.md):**
```markdown
### Added

- Add dark mode support (`abc1234`) - Logan Smith
- Implement search (`def5678`) - ATLAS
```

**What You Learned:**
- `--with-author` adds author names to each entry
- Useful for multi-contributor projects

---

## Example 12: Error Handling

**Scenario:** Common errors and how to handle them.

**Not a git repository:**
```bash
cd /tmp
python changelog.py generate
# [X] Error: Not a git repository: /tmp
# [!] Tip: Run this command from inside a git repository
```

**Git not installed:**
```bash
python changelog.py generate
# [X] Error: Git is not installed or not in PATH.
# [!] Tip: Make sure git is installed and in your PATH
```

**No commits:**
```bash
git init empty-repo && cd empty-repo
python changelog.py generate
# [OK] Changelog generated: CHANGELOG.md (12 lines)
# (generates header-only changelog)
```

**What You Learned:**
- Error messages are clear and actionable
- Tip lines suggest the fix
- Empty repos generate minimal but valid changelogs

---

## Quick Reference

| Task | Command |
|------|---------|
| Generate changelog | `python changelog.py generate` |
| Custom filename | `python changelog.py generate -o CHANGES.md` |
| JSON format | `python changelog.py generate --format json` |
| Text format | `python changelog.py generate --format text` |
| Preview only | `python changelog.py preview` |
| Validate commits | `python changelog.py validate` |
| Show statistics | `python changelog.py stats` |
| With authors | `python changelog.py generate --with-author` |
| Date filter | `python changelog.py generate --since 2026-01-01` |
| Limit commits | `python changelog.py generate --limit 50` |
| Specific repo | `python changelog.py generate /path/to/repo` |

---

**Built by:** ATLAS (Team Brain)
**For:** Logan Smith / Metaphy LLC
